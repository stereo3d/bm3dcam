/*!
 * Thorium API functions for framework7 projects
 * Version 4.0 January, 2024
 * framework7 v8.x (https://framework7.io) MIT Licensed
 * Copyright 2018-2024 Thorium builder, All Rights Reserved.
 */
var thoriumapi={name:"Thorium Public API",bundleid:"com.thoriumbuilder.api",version:"4.0.0",setDarkMode:function(e){return"true"==e||1==e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),thoriumapi.isDarkMode()},isDarkMode:function(){return document.documentElement.classList.contains("dark")?"1":"0"},changeTheme:function(e){app.theme=e,document.documentElement.classList.remove("ios"),document.documentElement.classList.remove("md"),document.documentElement.classList.add(e)},isLocal:function(){return"file:"==window.location.protocol},getURL:function(){return window.location},getProtocol:function(){return window.location.protocol},getpageparam:function(e){if(e&&e.detail&&e.detail.route){var t=e.detail.route;if(t)return t.query.data||null}},replaceDynamicVariables:function(e){for(var t,o=e,i=/[^{\}]+(?=})/g;t=i.exec(o);){var a=t[0];if(a&&a.length>0){var r="";try{r=window[a]}catch(e){app.preloader.hide();var n="[com.thoriumbuilder.jsonapi] Unable to find variable "+a+"] "+e;return void app.dialog.alert(n)}if(!r){app.preloader.hide();n="[com.thoriumbuilder.jsonapi] variable ["+a+"] is undefined";return void app.dialog.alert(n)}e=e.replace("{"+a+"}",encodeURIComponent(r))}}return e},handleError:function(e,t,o,i){var a=window.location.pathname,r=a.substring(0,a.lastIndexOf("/")),n=window.location.origin,u='<span class="text-color-red">[javascript error]</span><br><span class="text-color-blue">'+e+'</span><br>source: <span class="text-color-blue">'+(t=t.replace("file://","").replace(r,"").replace("/js/","").replace(n,""))+"</span><br>[line: "+o+" - col: "+i+"]";kDebugMessagesLevel,app.preloader.hide,2==kDebugMessagesLevel&&app.dialog.alert(u,"Debugger"),kDebugMessagesLevel>0&&thoriumapi.logEvent(2,"[com.thoriumbuilder.api] "+e)},forceReload:function(e){thoriumCorePlugin.app.forceReload(e)},logSimulator:function(e,t){if(0==app.device.capacitor&&(0==app.device.capacitor&&1==thoriumapi.isSafari()&&window&&window.webkit&&window.webkit&&0==app.device.cordova&&0==app.device.capacitor&&window.webkit.messageHandlers))try{window.webkit.messageHandlers.thoriumHandler.postMessage("{"+e+"} "+t)}catch(e){}},logEvent:function(e,t){e=e||0,t=t||"";var o=new Date;o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds();kDebugMessagesLevel>0&&(window.status="{"+e+"} "+t),thoriumapi.logSimulator(e,t)},loadpage:function(e,t,o){thoriumapi.logEvent(0,"[com.thoriumbuilder.api] Loading url "+page),t||(t={});for(const[e,o]of Object.entries(app.routes))if(o.name==page){o.props=t;break}var i={reloadCurrent:!1,reloadPrevious:!1,reloadAll:!1,clearPreviousHistory:!1,animate:!0,history:!0,browserHistory:!1,ignoreCache:!1};i.props=t,o&&(i.transition=o),-1==e.indexOf("/")&&(e="/"+e+"/"),app.views.main.router.navigate(e,i)},alert:function(e){"undefined"!=typeof app?(thoriumCorePlugin.app.showAppLoader(!1),app.preloader.hide(),app.dialog.alert(e,"")):alert(e)},logError:function(e,t){thoriumCorePlugin.app.showAppLoader(!1),auth&&thoriumapi.logEvent(2,"["+auth.bundleid+"] "+t),1==e&&(app.preloader.hide(),app.dialog.alert(t,"Alert"))},callFunctionByName(e,t){if("function"==typeof e){try{t?e.apply(this,t):e.apply(this)}catch(t){thoriumapi.logEvent(2,"[com.thoriumbuilder.api] Function ["+e.name+"] Call Failed"),app.dialog.alert(t)}return thoriumapi.logEvent(0,"[com.thoriumbuilder.api] Calling Function ["+e.name+"]"),t}var o='[com.thoriumbuilder.api] An error occured "'+e.name+'" is not an existing function';return thoriumapi.logEvent(2,o),app.dialog.alert(o),!1},setDynamicVariableContent(e){if(e&&e.length>0)for(var t,o=e,i=/[^{\}]+(?=})/g;t=i.exec(o);){var a="",r=t[0];try{(a=window[r])&&(e=e.replaceAll("{"+r+"}",a))}catch(e){thoriumapi.logEvent(1,"[com.thoriumbuilder.api] Unable to find variable "+r+"]")}}return e},status:function(e){for(var t of e.headers.entries())thoriumapi.logEvent(0,"[com.thoriumbuilder.api] fetch api returned headers "+t[0]+": "+t[1]);if(e.status>=200&&e.status<300)return Promise.resolve(e);var o=new Error(e.status+": "+e.statusText);return o.code=e.status,Promise.reject(o)},json:function(e){try{return e.json()}catch{return{}}},blob:function(e){try{return e.blob()}catch{return{}}},checkResult:function(e){return e&&e.code<0?(app.preloader.hide(),app.dialog.alert(e.message),!1):!!e||(app.preloader.hide(),app.dialog.alert("Invalid Result"),!1)},reloadHomePage:function(){thoriumapi.logEvent(0,"[com.thoriumbuilder.api] Reloading Home Page "),"/"!=app.view[0].router.url&&(app.preloader.show(),setTimeout((function(){location.reload()}),1e3))},backToPreviousPage:function(){thoriumapi.logEvent(0,"[com.thoriumbuilder.api] Back to previous page"),app.view[0].router.back()},txtToUrl:function(e){if(null==e)return"";var t=new RegExp(/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi);try{var o=e.match(t)}catch(t){return e}return o?(o.forEach((function(t){e=e.replace(t,'<a class="link external" data-rel="external" target="_blank" rel="noopener" href="'+t+'">'+o+"</a>")})),e):e},isSafari:function(){var e=navigator.userAgent.toLowerCase();if(-1!=e.indexOf("safari"))return!(e.indexOf("chrome")>-1)},showAlert:function(e){app.dialog.alert(thoriumCorePlugin.txtToUrl(e))},showNotification:function(e,t,o,i,a,r){r=r||"NOTIFICATION",thoriumapi.logEvent(0,"[com.thoriumbuilder.api] Show Notification"),t=t||3e3,o=o||"bell_fill",a=a||"",app.notification.create({icon:'<i class="f7-icons text-muted">'+o+"</i>",title:r,closeButton:!1,titleRightText:"",subtitle:a,text:e,closeTimeout:t,swipeToClose:!0,cssClass:i}).open()},showToast:function(e,t,o,i,a){thoriumapi.logEvent(0,"[com.thoriumbuilder.api] Showing Toast Message"),"boolean"!=typeof t&&(t=!1),o=o||"bottom",i=i||3e3,((a=a||null)?app.toast.create({icon:a?'<i class="f7-icons">'+a+"</i>":null,text:e,position:o,destroyOnClose:!0,closeTimeout:i}):app.toast.create({text:e,closeButton:t,closeButtonText:"OK",closeButtonColor:"text-color-white",position:o,destroyOnClose:!0,closeTimeout:i})).open()},openPopup:function(e){thoriumapi.logEvent(0,"[com.thoriumbuilder.api] Open Popup"),app.popup.create({content:e}).open()},getObjectViewPortPercent:function(e,t){var o=$("#"+e.id),i=o.offset().top,a=i+o.outerHeight(),r=t+$(window).height();Math.round(100*(a-$(window).scrollTop())/($(window).height()+o.height()));return parseInt(Math.round((r-i)/o.outerHeight()*100))},findGetParameter:function(e){thoriumapi.logEvent(0,"[com.thoriumbuilder.api] Get URL Parameters");var t=null,o=[];return location.search.substr(1).split("&").forEach((function(i){(o=i.split("="))[0]===e&&(t=decodeURIComponent(o[1]))})),t},cookies:{id:"app.condominium.cookies",setCookie:function(e,t){let o=new Date;o.setTime(o.getTime()+2592e6);document.cookie=e+"="+t+"; expires=30; path=/"},updateCookie:function(e,t){setCookie(e,t,30)},deleteCookie:function(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/"},getCookie:function(e){const t=e+"=",o=decodeURIComponent(document.cookie);if(o){let e;return o.split("; ").forEach((o=>{0===o.indexOf(t)&&(e=o.substring(t.length))})),e||null}return null},getCookies:function(){return document.cookie}},localstorage:{name:"Thorium localstorage Public API",isAvailable:function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return thoriumapi.logEvent(2,"[com.thoriumbuilder.thoriumapi] Local Storage not available #"+e.code+" "+e.message),app.dialog.alert("Local Storage error #"+e.code+" "+e.message),!1}},setItem:function(e,t){if(1==thoriumapi.localstorage.isAvailable()){try{window.localStorage.setItem(e,t)}catch(e){return 22==e.code||1014==e.code&&"NS_ERROR_DOM_QUOTA_REACHED"===e.name?thoriumapi.logEvent(2,"[com.thoriumbuilder.thoriumapi] Local Storage is Full"):thoriumapi.logEvent(2,"[com.thoriumbuilder.thoriumapi] Local Storage error #"+e.code+" "+e.message),app.dialog.alert("Local Storage error #"+e.code+" "+e.message),!1}return!0}},getItem:function(e){if(1==thoriumapi.localstorage.isAvailable()){try{var t=window.localStorage.getItem(e)}catch(e){return thoriumapi.logEvent(2,"[com.thoriumbuilder.thoriumapi] Local Storage error #"+e.code+" "+e.message),void app.dialog.alert("Local Storage error #"+e.code+" "+e.message)}return t}},removeItem:function(e){if(1==thoriumapi.localstorage.isAvailable()){try{window.localStorage.removeItem(e)}catch(e){return thoriumapi.logEvent(2,"[com.thoriumbuilder.thoriumapi] Local Storage error #"+e.code+" "+e.message),app.dialog.alert("Local Storage error #"+e.code+" "+e.message),!1}return!0}},clear:function(){if(1==thoriumapi.localstorage.isAvailable()){try{window.localStorage.clear()}catch(e){return thoriumapi.logEvent(2,"[com.thoriumbuilder.thoriumapi] Local Storage error #"+e.code+" "+e.message),app.dialog.alert("Local Storage error #"+e.code+" "+e.message),!1}return!0}}},sessionstorage:{name:"Thorium sessionstorage Public API",isAvailable:function(){try{return"sessionStorage"in window&&null!==window.sessionStorage}catch(e){return thoriumapi.logEvent(2,"[com.thoriumbuilder.thoriumapi] Session Storage not available #"+e.code+" "+e.message),app.dialog.alert("Session Storage error #"+e.code+" "+e.message),!1}},setItem:function(e,t){if(1==thoriumapi.sessionstorage.isAvailable()){try{window.sessionStorage.setItem(e,t)}catch(e){return 22==e.code||1014==e.code&&"NS_ERROR_DOM_QUOTA_REACHED"===e.name?thoriumapi.logEvent(2,"[com.thoriumbuilder.thoriumapi] Session Storage is Full"):thoriumapi.logEvent(2,"[com.thoriumbuilder.thoriumapi] Session Storage error #"+e.code+" "+e.message),app.dialog.alert("Session Storage error #"+e.code+" "+e.message),!1}return!0}},getItem:function(e){if(1==thoriumapi.sessionstorage.isAvailable()){try{var t=window.sessionStorage.getItem(e)}catch(e){return thoriumapi.logEvent(2,"[com.thoriumbuilder.thoriumapi] Session Storage error #"+e.code+" "+e.message),void app.dialog.alert("Session Storage error #"+e.code+" "+e.message)}return t}},removeItem:function(e){if(1==thoriumapi.sessionstorage.isAvailable()){try{window.sessionStorage.removeItem(e)}catch(e){return thoriumapi.logEvent(2,"[com.thoriumbuilder.thoriumapi] Session Storage error #"+e.code+" "+e.message),app.dialog.alert("Session Storage error #"+e.code+" "+e.message),!1}return!0}},clear:function(){if(1==thoriumapi.sessionstorage.isAvailable()){try{window.sessionStorage.clear()}catch(e){return thoriumapi.logEvent(2,"[com.thoriumbuilder.thoriumapi] Session Storage error #"+e.code+" "+e.message),app.dialog.alert("Session Storage error #"+e.code+" "+e.message),!1}return!0}}},spatial:{name:"Thorium Spatial Public API",getDistance:function(e,t,o,i){var a=thoriumapi.spatial.deg2rad(o-e),r=thoriumapi.spatial.deg2rad(i-t),n=Math.sin(a/2)*Math.sin(a/2)+Math.cos(thoriumapi.spatial.deg2rad(e))*Math.cos(thoriumapi.spatial.deg2rad(o))*Math.sin(r/2)*Math.sin(r/2);return 6371*(2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n)))},deg2rad:function(e){return e*(Math.PI/180)}},geolocation:{name:"Thorium geolocation Public API",watch:null,latitude:null,longitude:null,accuracy:null,altitude:null,altitudeAccuracy:null,heading:null,speed:null,timestamp:null,isAvailable:function(){return!!navigator.geolocation||(app.emit("geolocationError",error),thoriumapi.logEvent(2,"[com.thoriumbuilder.thoriumapi] Geolocation is not supported"),app.dialog.alert("Geolocation is not supported"),!1)},setPosition:function(e){if(e&&e.coords){var t=e.coords;thoriumapi.geolocation.latitude=t.latitude,thoriumapi.geolocation.longitude=t.longitude,thoriumapi.geolocation.accuracy=t.accuracy,thoriumapi.geolocation.altitude=t.altitude,thoriumapi.geolocation.altitudeAccuracy=t.altitudeAccuracy,thoriumapi.geolocation.heading=t.heading,thoriumapi.geolocation.speed=t.speed,thoriumapi.geolocation.timestamp=e.timestamp,thoriumapi.logEvent(0,"[com.thoriumbuilder.thoriumapi] geoLocation returned, ["+t.longitude+" | "+t.latitude+"]"),app.emit("geolocationSuccess",t)}},getCurrentPosition:function(){if(1!=thoriumapi.geolocation.isAvailable())return!1;thoriumapi.logEvent(0,"[com.thoriumbuilder.thoriumapi] Getting geoLocation...");try{return navigator.geolocation.getCurrentPosition(thoriumapi.geolocation.setPosition,thoriumapi.geolocation.geoLocationError),!0}catch(e){return app.emit("geolocationError",e),thoriumapi.logEvent(2,"[com.thoriumbuilder.thoriumapi] "+e.message),app.dialog.alert(e.message),!1}},geoLocationError:function(e){app.emit("geolocationError",e),thoriumapi.logEvent(2,"[com.thoriumbuilder.thoriumapi] "+e.message)},watchPosition:function(){watch=navigator.geolocation.watchPosition(thoriumapi.geolocation.setPosition,thoriumapi.geolocation.geoLocationError)},clearWatch:function(){thoriumapi.geolocation.watch&&(navigator.geolocation.clearWatch(thoriumapi.geolocation.watch),thoriumapi.geolocation.watch=null)}},mediaDevices:{name:"Thorium mediaDevices Public API",devices:[],enumerateDevices:function(){if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices)return thoriumapi.logEvent(2,"[com.thoriumbuilder.thoriumapi] enumerateDevices() not supported."),thoriumapi.mediaDevices.devices=[],void app.emit("mediaDevicesError","enumerateDevices() not supported.");navigator.mediaDevices.enumerateDevices().then((function(e){thoriumapi.mediaDevices.devices=[],e.forEach((function(e){thoriumapi.mediaDevices.devices.push(e),thoriumapi.logEvent(2,"[com.thoriumbuilder.thoriumapi] Device Added to list ["+thoriumapi.mediaDevices.devices.kind+" "+thoriumapi.mediaDevices.devices.label+"]")})),app.emit("mediaDevicesSuccess")})).catch((function(e){app.emit("mediaDevicesError",e.message)}))}},osm:{name:"Thorium Open Street Map - leaflet.js Public API",getMapInstance:function(e){if("undefined"!=typeof openStreetMapPlugin){var t=document.getElementById(e);return t&&t.data?t.data:null}thoriumapi.logEvent(2,"[com.thoriumbuilder.thoriumapi] Open Street Map & Leaflet Plugin not installed")}},repeaters:{name:"Thorium Repeaters Public API",getVirtualList:function(e){var t=document.getElementById(e);if(t){var o=t.querySelector(".virtual-list");if(o){var i=app.virtualList.get(o);return i||(i=app.virtualList.create(o)),i}}},getAllItems:function(e){var t=thoriumapi.repeaters.getVirtualList(e);return t?(t.items||(t.items=[]),t.items):null},getItemAt:function(e,t){var o=thoriumapi.repeaters.getVirtualList(e);if(o){if(!o.items)return;return o.items[t]}},getFilteredItems:function(e){var t=thoriumapi.repeaters.getVirtualList(e);if(t){if(!t.items)return;return t.filteredItems}return null},clear:function(e){var t=thoriumapi.repeaters.getVirtualList(e);if(t){if(!t.items)return;t.items=[],t.deleteAllItems(),t.update()}},appendItem:function(e,t){var o=thoriumapi.repeaters.getVirtualList(e);o&&(o.items||(o.items=[]),o.items?(t.dataindex=o.items.length,o.appendItem(t),o.update()):(t.dataindex=0,thoriumapi.logEvent(1,"[com.thoriumbuilder.api] Repeater not initialized")))},replaceItemAt:function(e,t,o){var i=thoriumapi.repeaters.getVirtualList(e);if(i){if(!i.items)return;i.replaceItem(t,o),i.update()}},removeItemAt:function(e,t){var o=thoriumapi.repeaters.getVirtualList(e);if(o){if(!o.items)return;o.deleteItem(t);for(var i=0;i<o.items.length;i++)o.items[i].dataindex=i;o.update();var a=o.el.querySelectorAll("ul .item-dbexpress");for(i=0;i<a.length;i++){(e=a[i]).setAttribute("data-index",i)}}},scrollToItem:function(e,t){var o=thoriumapi.repeaters.getVirtualList(e);if(o){if(!o.items)return;o.scrollToItem(t),o.update()}},moveItem:function(e,t,o){var i=thoriumapi.repeaters.getVirtualList(e);if(i){if(!i.items)return;i.moveItem(t,o);for(var a=0;a<i.items.length;a++)i.items[a].dataindex=a;i.update();var r=i.el.querySelectorAll("ul .item-dbexpress");for(a=0;a<r.length;a++){(e=r[a]).setAttribute("data-index",a)}}},itemsCount:function(e){var t=thoriumapi.repeaters.getVirtualList(e);return t&&t.items?t.items.length:0},reload:function(e){var t=document.querySelector("#"+e+" .virtual-list");if(t&&"object"==typeof dbExpressData){var o=t.getAttribute("data-service")||null;dbExpressData.getRepeaterData(t,o,null)}}},chartjs:{name:"Thorium Chart.JS Public API",initialize:function(){"undefined"!=typeof chartJS&&chartJS.initialize()},addDataSet:function(e,t,o,i){"undefined"!=typeof chartJS&&chartJS.addDataSet(e,t,o,i)},getChartInstanceFromId:function(e){if("undefined"!=typeof chartJS)return chartJS.getChartInstanceFromId(e)},addDataPoint:function(e,t,o,i,a){"undefined"!=typeof chartJS&&chartJS.addDataPoint(e,t,o,i,a)},replaceDataPoint:function(e,t,o,i,a,r){"undefined"!=typeof chartJS&&chartJS.replaceDataPoint(e,t,o,i,a,r)},clearChart:function(e){"undefined"!=typeof chartJS&&chartJS.clearChart(e)},changeChartType(e,t){"undefined"!=typeof chartJS&&chartJS.changeChartType(e,t)}},date:{name:"Thorium Date-Time  Public API",getTimeStamp:function(){return(new Date).getTime()/1e3},getTimeStampFromDate:function(e){return new Date(e).getTime()/1e3},timeDiff:function(e,t){var o=6e4,i=36e5,a=864e5,r=30*a,n=365*a,u=e-t;return u<o?0==Math.round(u/1e3)?"now":Math.round(u/1e3)+" seconds ago":u<i?Math.round(u/o)+" minutes ago":u<a?Math.round(u/i)+" hours ago":u<r?Math.round(u/a)+" days ago":u<n?Math.round(u/r)+" months ago":Math.round(u/n)+" years ago"},getDateDiff:function(e,t){var o={},i=6e4,a=36e5,r=864e5,n=30*r,u=365*r,l=e-t;l<i?0==Math.round(l/1e3)?(o.diff=0,o.unit=""):(o.diff=Math.round(l/1e3),o.unit="s"):l<a?(o.diff=Math.round(l/i),o.unit="m"):l<r?(o.diff=Math.round(l/a),o.unit="h"):l<n?(o.diff=Math.round(l/r),o.unit="D"):l<u?(o.diff=Math.round(l/n),o.unit="M"):(o.diff=Math.round(l/u),o.unit="Y");return o},getDateTimeFromTimeStamp:function(e,t,o,i){var a=6e4*(new Date).getTimezoneOffset(),r=new Date(1e3*parseInt(e)+a);i=i||!1;var n=kDateFormat;n||(n="YYYY-MM-DD");var u=r.getDate()||0;u<10&&(u="0"+u);var l=r.getMonth()+1||0;l<10&&(l="0"+l);var c=r.getFullYear(),s=r.getYear();return n=(n=(n=n.replace("dd",u).replace("DD",u).replace("d",u).replace("D",u)).replace("MM",l).replace("mm",l).replace("m",l).replace("M",l)).replace("YYYY",c).replace("yyyy",c).replace("YY",s).replace("yy",s),1==i&&(n=n+" "+thoriumapi.date.getTime(r)),n},ISO8601:function(e){var t=e.getDate();t<10&&(t="0"+t);var o=e.getMonth()+1;return o<10&&(o="0"+o),e.getFullYear()+"-"+o+"-"+t},getDateFromISO:function(e){return new Date(e)},convertDateToLocalDateTime(e,t,o){var i=e.toLocaleDateString(t);return 1==o&&(i+=" "+e.toLocaleTimeString(t)),i},convertMinutestoHoursAndMinutes:function(e){return Math.floor(e/60).toString().padStart(2,"0")+":"+(e%60).toString().padStart(2,"0")},getTime:function(e){var t="",o=e.getHours();1==kHours12&&(o>12?(o-=12,t="pm"):t="am"),o<10&&(o="0"+o);var i=e.getMinutes();return i<10&&(i="0"+i),(o+":"+i+" "+t).trim()},getCalendar:function(e){var t=document.querySelector("#"+e+" .calendar-inline");if(t)return app.calendar.get(t)},addValuetoCalendar:function(e,t){var o=document.querySelector("#"+e+" .calendar-inline");if(o){var i=app.calendar.get(o);i&&i.addValue(t)}},disableDateFromCalendar:function(e,t){var o=document.querySelector("#"+e+" .calendar-inline");if(o){var i=app.calendar.get(o);if(i){var a=i.params.disabled;a||(a=[]);var r={};r.date=t,a.push(r),i.params.disabled=a,i.update()}}},addEventToCalendar:function(e,t,o){var i=document.querySelector("#"+e+" .calendar-inline");if(i){var a=app.calendar.get(i);if(a){var r=a.params.events;r||(r=[]);var n={};n.date=t,n.color="#FF3B30",n.custom=o||{},r.push(n),a.params.events=r,a.update()}}}},firebase:{name:"Thorium Firebase Public API",logout:function(){"undefined"!=typeof firebasePlugin&&firebasePlugin.logoutExt()},showRegisterScreen:function(){"undefined"!=typeof firebasePlugin&&firebasePlugin.showRegisterScreen()},showEditProfilePageExt:function(){"undefined"!=typeof firebasePlugin&&firebasePlugin.showEditProfilePageExt()},facebookLogin:function(){"undefined"!=typeof firebasePlugin&&firebasePlugin.facebookLoginExt()},googleLogin:function(){"undefined"!=typeof firebasePlugin&&firebasePlugin.googleLoginExt()},twitterLogin:function(){"undefined"!=typeof firebasePlugin&&firebasePlugin.twitterLoginExt()},getUser:function(){if("undefined"!=typeof firebasePlugin)return firebase.auth().currentUser}},dbexpress:{name:"Thorium dbExpress Public API",executeCustomService:function(e,t,o,i,a,r,n,u){"object"==typeof dbExpressData&&dbExpressData.executeCustomSelectService(e,t,o,i,a,r,n,u)},getToken:function(){if("undefined"!=typeof auth)return auth.getToken()},showResetPasswordScreen:function(){"undefined"!=typeof auth&&auth.showResetPasswordScreen(null)},showSigninPopup:function(){"undefined"!=typeof auth&&auth.showSigninPopup(null)},showTermsPopup:function(){"undefined"!=typeof auth&&auth.showTermsPopup(null)},showPrivacyPopup:function(){"undefined"!=typeof auth&&auth.showPrivacyPopup(null)},showProfileScreen:function(){"undefined"!=typeof auth&&auth.loadProfileScreen()},showRegisterPopup:function(){"undefined"!=typeof auth&&auth.showRegisterPopup(null)},signIn:function(e,t,o,i){"undefined"!=typeof auth&&auth.signIn(e,t,o,i)},logout:function(){"undefined"!=typeof auth&&auth.logout()},getCurrentUser:function(){if("undefined"!=typeof auth)return auth.currentUser},getWebServiceURL:function(){if("undefined"!=typeof auth)return thoriumCorePlugin.httpRoot},setWebServiceURL:function(e){"undefined"!=typeof auth&&(thoriumCorePlugin.httpRoot=e)},postData:function(e,t,o){"object"==typeof dbExpressData&&dbExpressData.sendData(e,t,o)}},googleMap:{name:"GoogleMap Public API",getGoogleMapObject:function(e){var t=document.getElementById(e);return t&&t.map?t.map:null},reloadMapData:function(e){googleMapPlugin.initializeMap(e)},centerMapAtPosition:function(e,t,o){var i=thoriumapi.googleMap.getGoogleMapObject(e);if(i){var a={lat:t,lng:o};i.setCenter(a)}},setZoom:function(e,t){var o=thoriumapi.googleMap.getGoogleMapObject(e);o&&o.setZoom(t)},getZoom:function(e){var t=thoriumapi.googleMap.getGoogleMapObject(e);if(t)return t.getZoom()},getCenter:function(e){var t=thoriumapi.googleMap.getGoogleMapObject(e);if(t){var o=t.getCenter(),i={};return i.lat=o.lat(),i.lng=o.lng(),i}},setCenter:function(e,t,o){var i=thoriumapi.googleMap.getGoogleMapObject(e);if(i){var a={lat:t,lng:o};i.setCenter(a)}},drawCircleAtPos:function(e,t,o,i){var a=thoriumapi.googleMap.getGoogleMapObject(e);if(a){var r={lat:t,lng:o};googleMapPlugin.drawCircleAtPos(a,r,i)}},panTo:function(e,t,o){var i=thoriumapi.googleMap.getGoogleMapObject(e);if(i){var a={lat:t,lng:o};i.panTo(a)}},setOptions:function(e,t){var o=thoriumapi.googleMap.getGoogleMapObject(e);o&&o.setOptions(t)},addMarker:function(e,t,o,i){var a=thoriumapi.googleMap.getGoogleMapObject(e);if(a){var r=new google.maps.LatLng(parseFloat(t),parseFloat(o)),n=i.title||"",u=i.uid||"",l=i.addr||"",c=i.img||"",s=i.desc||"",p=i.subtitle||"",d=i.badge||"",m=i.rating||0,g=i.target||"";googleMapPlugin.addMarker(a,r,n,u,l,c,s,p,d,m,g)}}},forms:{name:"forms Public API",reloadFormSelect:function(e){for(var t=document.querySelectorAll("#"+e+" select[data-api-mode]"),o=0;o<t.length;o++){var i=t[o];if(i){i.setAttribute("data-loaded",!1);var a=i.getAttribute("data-api")||null,r=i.getAttribute("data-api-field")||null,n=i.getAttribute("data-select-collection")||null,u=i.getAttribute("data-api-fieldid")||null,l=i.getAttribute("data-function")||null,c=0;c=i.getAttribute("data-api-mode")||"0",a&&"0"==c&&(c=1),"1"==c&&a&&r?(thoriumCorePlugin.forms.fillSelect(i,a,r,c,u,l),thoriumapi.logEvent(0,"[com.thoriumbuilder.api] Form Input ["+i.name+"] of type Select initialized from api ["+a+"]")):"2"==c&&n&&r&&(setTimeout((function(){thoriumCorePlugin.forms.fillSelect(i,n,r,c,u,l)}),100),thoriumapi.logEvent(0,"[com.thoriumbuilder.api] Form Input ["+i.name+"] of type Select initialized from api ["+a+"]"))}}}},jsonapi:{name:"jsonapi Public API",reloadRepeater:function(e,t){var o=document.querySelector("#"+e+" .json-virtual-list-content");if(o){thoriumapi.logEvent(0,"[com.thoriumbuilder.api] Reloading Repeater ["+e+"] from api ["+t+"]"),o.setAttribute("data-loaded",!1),o.setAttribute("data-source",t);var i=o.getAttribute("data-root-field")||null;if(t){jsonApiPlugin.getRepeaterData(o,t,i,!0);var a=document.querySelector("#view-main");a&&(a.style.display=!0)}}else thoriumapi.logEvent(1,"[com.thoriumbuilder.api] Reloading Repeater ["+e+"] not found")}}};